run spark-hb-configmap-update-patch-job --image {{.DockerRegistryPrefix}}/spark-hb-truststore-util:3.0.30.1-ppc64le --restart OnFailure --overrides '{ "spec": {  "backoffLimit": 1,  "failedJobsHistoryLimit": 1, "successfulJobsHistoryLimit": 1, "completions": 1,  "parallelism": 1,  "template": {"metadata": { "labels": {  "app": "spark-hb-configmap-update", "run": "spark-hb-configmap-update" }},"spec": { "affinity": {  "nodeAffinity": {"requiredDuringSchedulingIgnoredDuringExecution": { "nodeSelectorTerms": [{  "matchExpressions": [{"key": "beta.kubernetes.io/arch","operator": "In","values": ["ppc64le"]  }] }]}  },  "podAntiAffinity": {"requiredDuringSchedulingIgnoredDuringExecution": [{ "labelSelector": {  "matchExpressions": [{"key": "run","operator": "In","values": ["spark-hb-configmap-update"]  }] }, "topologyKey": "kubernetes.io/hostname"}]  } }, "serviceAccount": "cpd-editor-sa", "containers": [{  "command": ["/bin/sh", "-c"], "args": ["./tmp/spark-hb-configmap-update-patch-job.sh 2.4.6-v1-ppc64le"], "image": "{{ .DockerRegistryPrefix }}/spark-hb-truststore-util:3.0.30.1-ppc64le",  "imagePullPolicy": "Always",  "name": "spark-hb-configmap-update-container" }]}  } }}'
wait --for=condition=complete --timeout=5m job/spark-hb-configmap-update-patch-job
delete job/spark-hb-configmap-update-patch-job
patch deployment spark-hb-control-plane --patch '{ "spec": { "template": { "spec": { "containers": [{ "name": "spark-hb-control-plane", "image": "{{.DockerRegistryPrefix}}/spark-hb-control-plane:3.0.30.3-ppc64le"}] } } } }'
patch deployment spark-hb-nginx --patch '{ "spec": { "template": { "spec": { "containers": [{ "name": "spark-hb-nginx", "image": "{{.DockerRegistryPrefix}}/spark-hb-nginx:3.0.30.1-ppc64le"}] } } } }'